{
  "hash": "cba16e57f6532f1bc6fc96616fabc476",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Take-home Exercise 1: Geospatial Analytics for Public Good\"\nauthor: \"Leng Yi Xiu\"\ndate: \"Sep 09 2024\"\ndate-modified: \"last-modified\"\nexecute: \n  eval: true\n  echo: true\n  message: false\n  freeze: true\n---\n\n\n# 1 Overview\n\nAccording to the World Health Organisation (WHO), road traffic accidents claim approximately 1.19 million lives annually and cause 20-50 million non-fatal injuries, with vulnerable road users, such as pedestrians, cyclists, and motorcyclists, accounting for more than half of the fatalities. Road injuries are the leading cause of death for children and young adults (ages 5-29), and two-thirds of all fatalities occur among working-age individuals (18-59).\n\nLow- and middle-income countries experience 90% of these fatalities, despite having only 60% of the world’s vehicles, with road accidents costing nations 3% of their GDP.\n\nIn Thailand, which has some of the deadliest roads globally, approximately 20,000 people die in road accidents each year. Between 2014 and 2021, 19% of these accidents occurred on national highways, with a 66% likelihood of accidents at identified 'black spots,' particularly on straight road segments.\n\n# 2 Objective of Task\n\nThe key objective of this exercise is to analyze factors influencing road traffic accidents in the [`Bangkok Metropolitan Region (BMR)`](https://en.wikipedia.org/wiki/Bangkok_Metropolitan_Region) using spatial spatio-temporal point patterns analysis methods.\n\nPrevious studies have demonstrated significant potential of Spatial Point Patterns Analysis, but focused on the main behavioural or environmental factors causing traffic accidents. Limited consideration have been given to temporal factors such as (i) season, (ii) day of the week or (iii) time of day.\n\nSpecifically, this execise will involve the following objectives:\n\n1.  visualizing the spatio-temporal dynamics of road traffic accidents through statistical graphics and geovisualization techniques,\n\n2.  conducting detailed spatial analysis using Network Spatial Point Patterns Analysis methods, and\n\n3.  performing spatio-temporal analysis using Temporal Network Spatial Point Patterns Analysis methods.\n\nThe goal is to explore both behavioral and environmental factors, as well as temporal influences such as season, day of the week, and time of day.\n\n# 3 Preparation\n\n## 3.1 Import Libraries for Use\n\nLoad the necessary R packages needed for this study.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(sf, spNetwork, tmap, tidyverse)\n```\n:::\n\n\n## 3.2 Import and Setting Up the Data\n\nLoad the necessary R packages needed for this study.\n\n::: panel-tabset\n## Aspatial\n\n\n::: {.cell}\n\n```{.r .cell-code}\nacc <- read_csv(\"data/rawdata/thai_road_accident_2019_2022.csv\") %>%\n  mutate(Month_num = month(incident_datetime)) %>%\n  mutate(Month_fac = month(incident_datetime, \n                           label = TRUE,\n                           abbr = TRUE)) %>%\n  mutate(dayofweek = day(incident_datetime))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 81735 Columns: 18\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (10): province_th, province_en, agency, route, vehicle_type, presumed_c...\ndbl   (6): acc_code, number_of_vehicles_involved, number_of_fatalities, numb...\ndttm  (2): incident_datetime, report_datetime\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\n   #st_as_sf(coords = c(\"longitude\" , \"latitude\"),\n                      #crs = 4326) %>%\n  #st_transform(crs = 32647)  ##confirm if this is for Thailand\n```\n:::\n\n\n## Geospatial\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#write_rds(acc, \"data/rds/acc.rds\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}